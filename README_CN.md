# go-strchecker
## èƒŒæ™¯
åœ¨å¤§å‹é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°æ‰“å°å¤§é‡æ—¥å¿—ï¼Œè¾“å‡ºä¿¡æ¯å’Œåœ¨æºç ä¸­å†™æ³¨é‡Šçš„æƒ…å†µã€‚å¯¹äºè½¯ä»¶å¼€å‘æ¥è¯´ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯æ‰“å°è¾“å‡ºè‹±æ–‡çš„æ—¥å¿—ï¼ˆä¸»è¦è€ƒè™‘è½¯ä»¶åœ¨å„ç§ç¯å¢ƒä¸‹çš„å…¼å®¹æ€§ï¼Œå¦‚æœæ‰“å°ä¸­æ–‡æ—¥å¿—å¯èƒ½ä¼šå‡ºç°ä¹±ç ï¼Œå¦å¤–è‹±æ–‡æ—¥å¿—æ›´å®¹æ˜“æœç´¢ï¼Œæ›´å®¹æ˜“åç»­åšå›½é™…åŒ–ï¼‰ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬ä¸­å›½äººæ¥è¯´ï¼Œå¾ˆå®¹æ˜“å°±æŠŠä¸­æ–‡å…¨è§’çš„ä¸­æ–‡æ ‡ç‚¹ç¬¦å·ä¸€ä¸æ³¨æ„å°±å†™åˆ°æ—¥å¿—ä¸­äº†ã€‚ä¸è¿‡æºç ä¸­çš„æ³¨é‡Šå› ä¸ºæ˜¯å®Œå…¨é¢å‘å¼€å‘è€…çš„ï¼Œä¸ä¼šé¢å‘å®¢æˆ·ï¼Œæ‰€ä»¥å¦‚æœç ”å‘å›¢é˜Ÿå…¨æ˜¯ä¸­å›½äººï¼Œé‚£ä¹ˆä»£ç æ³¨é‡Šç”¨ä¸­æ–‡å°±æ›´æœ‰æ•ˆç‡ã€‚
åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç¡®å®å°±å‘ç°äº†æ‰“å°æ—¥å¿—ä¸­åŒ…å«äº†ä¸­æ–‡æ ‡ç‚¹çš„æƒ…å†µï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ç›´æ¥ç”¨ä¸­æ–‡æ ‡ç‚¹åœ¨IDEä¸­è¿›è¡Œå…¨æ–‡æœç´¢ï¼Œå°±å¥½å‘ç°å¤§é‡çš„ä»£ç æ³¨é‡Šä½¿ç”¨ä¸­æ–‡æ ‡ç‚¹ï¼Œè€Œåˆ°åº•å“ªé‡Œæ˜¯æ—¥å¿—æ‰“å°æ—¶çš„ä¸­æ–‡æ ‡ç‚¹ï¼Œå“ªé‡Œæ˜¯æ³¨é‡Šä¸­çš„ä¸­æ–‡æ ‡ç‚¹ï¼Œæ ¹æœ¬çœ‹ä¸å‡ºæ¥ã€‚äºæ˜¯æˆ‘å‚è€ƒgolangci-lintçš„ä»£ç æ‰«ææ£€æŸ¥åŠŸèƒ½ï¼Œå†™äº†ä¸€ä¸ªGoæºç ä¸­å­—ç¬¦ä¸²è§„èŒƒæ£€æŸ¥çš„lintå·¥å…·ï¼šstrcheckerã€‚
## strcheckerä»‹ç»
strcheckerå¯ä»¥æ‰«ææŸä¸ªæ–‡ä»¶å¤¹æˆ–è€…è¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ä¸­çš„goä»£ç ï¼Œå¹¶å¯¹å…¶ä¸­çš„goä»£ç è¿›è¡Œè¯­æ³•åˆ†æï¼Œæ„å»ºè¯­æ³•æ ‘ï¼Œæ‰¾åˆ°å…¶ä¸­ç”³æ˜çš„å¸¸é‡ã€å˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›å€¼ã€èµ‹å€¼ã€caseè¯­å¥ç­‰åœºæ™¯ä¸‹çš„å­—ç¬¦ä¸²stringç±»å‹ï¼Œç„¶åå¯¹è¿™äº›å­—ç¬¦ä¸²è¿›è¡Œæ­£åˆ™åŒ¹é…ã€‚ç³»ç»Ÿé»˜è®¤çš„æ­£åˆ™åŒ¹é…æ–¹å¼æ˜¯åªæœ‰ASCIIå­—ç¬¦æ‰æ˜¯åˆæ³•å­—ç¬¦ï¼Œåªè¦è¶…è¿‡ä¸€ä¸ªå­—èŠ‚çš„ï¼ˆæ¯”å¦‚ä¸­æ–‡ã€ä¸­æ–‡æ ‡ç‚¹ç­‰éƒ½æ˜¯å¤šå­—èŠ‚çš„ï¼‰å°±ä¼šè¢«åŒ¹é…åˆ°ï¼Œè€ŒåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²å°±ç®—æ˜¯éæ³•å­—ç¬¦ä¸²ï¼Œå¹¶æœ€ç»ˆå°†è¿™äº›éæ³•å­—ç¬¦ä¸²æ‰“å°å‡ºæ¥ã€‚
ä¸‹é¢ä¸¾ä¸€ä¸ªç¤ºä¾‹ï¼š
1. å®‰è£…strchecker
```
go install github.com/studyzy/go-strchecker/cmd/strchecker@latest
```
2. æ‰¾åˆ°æˆ‘ä»¬è¦è¿›è¡Œæ‰«æçš„æ–‡ä»¶å¤¹ï¼Œè¿™é‡Œå°±ä»¥go-strchecker/testdata/ è¿™ä¸ªæ–‡ä»¶å¤¹ä¸ºä¾‹ï¼Œè¿›è¡Œéæ³•å­—ç¬¦ä¸²æ‰«æã€‚
```
strchecker $GOPATH/src/github.com/studyzy/go-strchecker/testdata
```
3. è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š
```
0 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/call.go:9:60 has invalid string: "ï¼"
1 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/call.go:10:11 has invalid string: "aï¼b"
2 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/call.go:11:5 has invalid string: "aaï¼"
3 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/call.go:12:40 has invalid string: "bbï¼"
4 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:10:30 has invalid string: "not foundï¼"
5 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:12:17 has invalid string: "noï¼Œdataï¼"
6 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:15:14 has invalid string: "Helloï¼ŒWorldï¼"
7 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:16:12 has invalid string: "Current timeï¼š"
8 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:19:15 has invalid string: "í•œêµ­ì–´"
9 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:20:15 has invalid string: "ã«ã»ã‚“ã”"
10 /Users/devinzeng/go/src/github.com/studyzy/go-strchecker/testdata/main.go:22:14 has invalid string: ":) ğŸ˜ğŸ˜ğŸ˜"
```
4. å¦‚æœæ˜¯åœ¨Golandè¿™æ ·çš„IDEä¸­çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç‚¹å‡»æºç è·¯å¾„ï¼Œå®šä½åˆ°å…·ä½“çš„ä»£ç ä½ç½®äº†ã€‚

5. ç„¶åå¯¹å…¶ä¸­çš„å­—ç¬¦ä¸²è¿›è¡Œä¿®å¤ï¼Œå°†å…¶ä¸­çš„ä¸­æ–‡æ ‡ç‚¹æ›¿æ¢æˆè‹±æ–‡æ ‡ç‚¹ã€‚
6. å¦‚æœæˆ‘ä»¬æœ‰ä¸€äº›ç‰¹æ®Šçš„è¦æ±‚ï¼Œè€Œä¸æ˜¯åªå…è®¸ASCIIç è¡¨ä¸­çš„å†…å®¹æ‰æ˜¯åˆæ³•å†…å®¹ï¼Œæ¯”å¦‚æˆ‘ä»¬å…è®¸ä¸­è‹±æ–‡ï¼Œä½†æ˜¯ä¸å…è®¸æ—¥æ–‡ã€éŸ©æ–‡ç­‰ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠï¼Ÿäºæ˜¯æˆ‘åœ¨å‚æ•°ä¸­é¢„ç½®äº†ASCIIè¡¨å…è®¸å’ŒASCII+ä¸­æ–‡+ä¸­æ–‡æ ‡ç‚¹å…è®¸è¿™ä¸¤ç§å¸¸ç”¨çš„åŒ¹é…ç±»å‹ã€‚å¦‚æœæˆ‘ä»¬æƒ³å…è®¸ASCIIå’Œä¸­æ–‡ï¼Œé‚£ä¹ˆå‘½ä»¤æ˜¯ï¼š
```
strchecker -invalid-type=1 ./testdata/...
```
ã€æ³¨æ„ï¼šè¿™é‡Œæœ€åçš„...è¡¨ç¤ºtestdataç›®å½•ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹ï¼Œä¼šé€’å½’çš„æ‰«æï¼Œå½“ç„¶å› ä¸ºæˆ‘ä»¬testdataæ²¡æœ‰å­æ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥è¿™ä¸ª...åŠ æˆ–è€…ä¸åŠ éƒ½æ˜¯ä¸€æ ·çš„ã€‚ã€‘
è¾“å…¥ç»“æœä¸ºï¼š
```
0 testdata/main.go:19:15 has invalid string: "í•œêµ­ì–´"
1 testdata/main.go:20:15 has invalid string: "ã«ã»ã‚“ã”"
2 testdata/main.go:22:14 has invalid string: ":) ğŸ˜ğŸ˜ğŸ˜"
```
## ç»“è®º
strcheckeræ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ‰«æGolangæºç ä¸­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ç‰¹å®šæ­£åˆ™è¡¨è¾¾å¼çš„Lintå·¥å…·ã€‚ä½¿ç”¨strcheckerå¯ä»¥å¿«é€Ÿæ‰¾åˆ°Goæºç ä¸­å­—ç¬¦ä¸²ä¸­éšè—çš„ä¸­æ–‡æ ‡ç‚¹ã€éä¸­è‹±æ–‡å­—ç¬¦ç­‰ï¼Œå¾ˆé€‚åˆç”¨äºå›½äººåœ¨å¤§å‹goé¡¹ç›®ä¸­æ‰«ææ—¥å¿—è¾“å‡ºæˆ–è€…å…¶ä»–å­—ç¬¦ä¸²å®šä¹‰æ—¶ä¸å°å¿ƒå‡ºç°çš„ä¸­æ–‡æ ‡ç‚¹çš„æƒ…å†µã€‚

å½“ç„¶ï¼Œå¦‚æœæœ¬èº«é¡¹ç›®çš„æºç ä¸­è¿æ³¨é‡Šéƒ½ä¸å…è®¸ç”¨ä¸­æ–‡å’Œä¸­æ–‡æ ‡ç‚¹ï¼Œé‚£ä¹ˆå°±ç›´æ¥ç”¨IDEçš„searchåŠŸèƒ½å³å¯ï¼Œæœ¬å·¥å…·æ˜¯ä¸æ‰«ææºç ä¸­æ³¨é‡Šçš„å†…å®¹çš„ã€‚